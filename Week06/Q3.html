<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Q3</title>
<script type="text/javascript">
var xhttp;
function createHttpRequest() {
	xhttp = new XMLHttpRequest(); <!-- XMLHttpRequest 객체 생성 -->
}

function mySend() { <!-- button 클릭 시 호출되는 이벤트 -->
	createHttpRequest();
	xhttp.onreadystatechange = callFunction;
	<!-- onreadystatechange 이벤트는 서버와의 통신이 끝났을 때 호출되는 이벤트 -->
	xhttp.open("GET", "sample.txt", true);
	<!-- HTTP 요구 방식은 GET, 요구하고자하는 URL은 sample.txt, 요구가 비동기식으로 수행됨 -->
	xhttp.send(null);
}

function callFunction() {
	if(xhttp.readyState == 4) { <!-- readystate는 통신의 현재 상태를 알려줌, 4는 통신이 완료되었음을 의미함 -->
		if(xhttp.status == 200) { <!-- status는 HTTP 통신의 결과를 의미, 200은 통신이 성공했음을 의미함 -->
			var responseData = xhttp.responseText; <!-- responseText 프로퍼티는 서버에서 전송한 데이터를 담고 있다. -->
			document.getElementById("result").innerHTML = responseData; <!-- div 태그에 출력 -->
		}
	}
}
</script>
</head>
<body>
	일반 텍스트 파일 실습입니다.<br>
	<button onclick="mySend()">파일 수신</button>
	<div id="result"></div>
</body>
</html>